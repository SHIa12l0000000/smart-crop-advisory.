<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Crop Advisory App</title>
<style>
/* ===== GENERAL ===== */
body {
  font-family:'Segoe UI',sans-serif;
  margin:0;
  background:#f3f4f6;
  color:#111;
  transition:.3s;
  overflow-x:hidden;
  position:relative;
}
body.dark{background:#1e293b;color:#e2e8f0;}
#particles{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;}

/* ===== HEADER & FOOTER ===== */
header,footer{position:relative;z-index:1000;color:#fff;overflow:hidden;}
header{display:flex;align-items:center;justify-content:space-between;padding:12px 20px;background:linear-gradient(270deg,#16a34a,#22c55e,#3b82f6,#0ea5e9);background-size:800% 800%;animation:gradientAnim 15s ease infinite;border-bottom:2px solid rgba(0,0,0,0.15);}
footer{text-align:center;padding:12px 0;font-weight:600;background:linear-gradient(270deg,#16a34a,#22c55e,#3b82f6,#0ea5e9);background-size:800% 800%;animation:gradientAnim 15s ease infinite reverse;}
@keyframes gradientAnim{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}
header img{height:50px;transition:.3s;}
header h1{font-size:1.6rem;margin:0 10px;text-shadow:1px 1px 3px rgba(0,0,0,0.3);}

/* ===== SPLASH ===== */
#splash{
  position:fixed;top:0;left:0;right:0;bottom:0;
  background:linear-gradient(135deg,#16a34a,#22c55e);
  color:#fff;
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  z-index:9999;font-size:1.4rem;animation:fadeInSplash 1.5s ease-in-out;
}
#splash img{height:120px;margin-bottom:20px;animation:spin 2s linear infinite;}
@keyframes spin{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}
@keyframes fadeInSplash{0%{opacity:0;}100%{opacity:1;}}

/* ===== LANGUAGE MODAL ===== */
#langModal{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.6);display:flex;align-items:center;justify-content:center;
  z-index:10000;backdrop-filter:blur(3px);
}
#langModalContent{
  background:#fff;padding:30px 40px;border-radius:24px;text-align:center;
  max-width:420px;width:90%;box-shadow:0 12px 28px rgba(0,0,0,.4);transition:.3s;
}
body.dark #langModalContent{background:#1e293b;color:#e2e8f0;}
#langModalContent h2{margin-bottom:24px;font-size:1.6rem;}
.btn-primary{padding:10px 18px;border:none;border-radius:10px;background:#16a34a;color:#fff;font-size:1rem;cursor:pointer;transition:.3s;}
.btn-primary:hover{background:#22c55e;}

/* ===== HOME BUTTONS ===== */
.btn-line{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:22px;margin-top:16px;z-index:1;
}
.btn-line button{
  min-height:160px;padding:20px 16px;border-radius:24px;font-size:1.25rem;display:flex;
  flex-direction:column;justify-content:center;align-items:center;text-align:center;
  box-shadow:0 8px 18px rgba(0,0,0,0.2);color:#fff;transition:transform 0.35s,box-shadow 0.35s,filter 0.3s,opacity 0.5s;
  opacity:0;transform:translateY(30px);
  background:linear-gradient(-45deg,#22c55e,#16a34a,#3b82f6,#0ea5e9);background-size:400% 400%;animation:gradientBG 10s ease infinite;
}
.btn-line button:hover{transform:translateY(-6px) scale(1.05);box-shadow:0 14px 28px rgba(0,0,0,0.3);filter:drop-shadow(0 0 16px rgba(255,255,255,0.5));}
.btn-line button.show{opacity:1;transform:translateY(0);}
@keyframes gradientBG{0%{background-position:0% 50%;}50%{background-position:100% 50%;}100%{background-position:0% 50%;}}

/* ===== TABS ===== */
.tab-container{display:flex;gap:12px;overflow-x:auto;padding-bottom:4px;scroll-behavior:smooth;}
.tab-btn{flex:0 0 auto;min-width:150px;padding:14px 20px;border-radius:16px;background:#d1fae5;color:#166534;font-weight:700;font-size:1.1rem;cursor:pointer;text-align:center;white-space:nowrap;transition:.3s;}
.tab-btn.active{background:linear-gradient(135deg,#16a34a,#22c55e);color:#fff;box-shadow:0 6px 14px rgba(0,0,0,.25);}
body.dark .tab-btn{background:#334155;color:#a5f3fc;}
body.dark .tab-btn.active{background:#22c55e;color:#fff;}
.tab-content{display:none;border-radius:16px;padding:14px;background:#f9fafb;box-shadow:0 2px 6px rgba(0,0,0,.1);margin-top:10px}
.tab-content.active{display:block}
body.dark .tab-content{background:#2a2a2a;border:1px solid #555}

/* ===== FORMS ===== */
form label{display:block;margin-top:10px;font-weight:600}
form input,form select{width:100%;padding:8px;margin-top:4px;border-radius:8px;border:1px solid #ccc}
body.dark form input,body.dark form select{background:#1e293b;border:1px solid #555;color:#e2e8f0}

/* ===== CARDS ===== */
.card{background:#fff;padding:12px 16px;border-radius:12px;margin:8px 0;box-shadow:0 2px 6px rgba(0,0,0,.1)}
body.dark .card{background:#334155;color:#e2e8f0}

/* ===== FIXED BUTTONS ===== */
#darkToggle,#voiceButtonInline{position:fixed;bottom:20px;width:55px;height:55px;border-radius:50%;font-size:26px;display:flex;align-items:center;justify-content:center;z-index:999;box-shadow:0 4px 12px rgba(0,0,0,.3)}
#darkToggle{right:20px;background:#16a34a;color:#fff}
#voiceButtonInline{right:90px;background:#3b82f6;color:#fff}
#voiceButtonInline.listening{animation:pulse 1s infinite}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}

/* ===== TABLES ===== */
table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #ccc;padding:8px;text-align:center;border-radius:8px}
body.dark th,body.dark td{border-color:#555}

/* ===== SPLASH SMALL ===== */
@media(max-width:600px){body{font-size:14px}.btn-line button{min-height:120px;font-size:1rem;padding:16px}.tab-btn{font-size:1rem;padding:12px 16px}}
</style>
</head>
<body>
<canvas id="particles"></canvas>

<!-- SPLASH -->
<div id="splash">
  <img src="logo.png" alt="Logo"/>
  <div>Smart Crop Advisory</div>
  <small>Loading...</small>
</div>

<!-- LANGUAGE MODAL -->
<div id="langModal">
  <div id="langModalContent">
    <h2>Select Language üåê</h2>
    <select id="langSelect">
      <option value="en">English</option>
      <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
    </select><br><br>
    <button class="btn-primary" onclick="setLanguageModal()">‚úÖ Confirm</button>
  </div>
</div>

<header>
  <img src="logo.png" alt="Logo" />
  <h1>Smart Crop Advisory</h1>
</header>

<main>
  <!-- HOME -->
  <section id="home" class="active">
    <h2 style="text-align:center;font-size:1.8rem;">Welcome Farmers üëã</h2>
    <p style="text-align:center;font-size:1.15rem;">Choose an option to get started:</p>
    <div class="btn-line">
      <button onclick="showPage('input')">üë®‚Äçüåæ Farmer Input</button>
      <button onclick="showPage('advisories')">üìã Advisories</button>
      <button onclick="showPage('solution')">üí° Solution Concept</button>
      <button onclick="showPage('market')">üíπ Market Prices</button>
      <button onclick="showPage('weather')">‚òÅÔ∏è Weather</button>
      <button onclick="showPage('soil')">üå± Soil Health</button>
      <button onclick="showPage('roadmap')">üöÄ Roadmap</button>
    </div>
  </section>

  <!-- FARMER INPUT -->
  <section id="input">
    <h2>üë®‚Äçüåæ Farmer Input</h2>
    <form id="farmerForm">
      <label>Name</label><input type="text" name="name" placeholder="Farmer name" required />
      <label>Phone</label><input type="tel" name="phone" placeholder="91XXXXXXXXXX" required />
      <label>District</label><input type="text" name="district" required />
      <label>Area (acres)</label><input type="number" name="area" step="0.1" value="1" required />
      <label>Soil Type</label>
      <select name="soil" required>
        <option value="loamy">Loamy</option>
        <option value="sandy">Sandy</option>
        <option value="clay">Clay</option>
        <option value="silty">Silty</option>
      </select>
      <label>Crop</label><input type="text" name="crop" value="Wheat" required />
      <div class="btn-line">
        <button type="submit" class="btn-primary">‚ú® Get Advisory</button>
        <button type="reset" class="btn-secondary">Reset</button>
        <button type="button" class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
      </div>
    </form>
  </section>

  <!-- ADVISORIES -->
  <section id="advisories">
    <h2>üìã Advisories</h2>
    <div id="advisoryList"><p id="noAdvisory">No advisories yet ‚Äî fill the form and click "Get Advisory".</p></div>
    <button class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
  </section>

  <!-- SOLUTION CONCEPT -->
  <section id="solution">
    <h2>üí° Solution Concept</h2>
    <div class="tab-container">
      <button class="tab-btn active" onclick="openTab('crop')">üåæ Crop Advice</button>
      <button class="tab-btn" onclick="openTab('fertilizer')">üß™ Fertilizer</button>
      <button class="tab-btn" onclick="openTab('pest')">üêõ Pest Control</button>
      <button class="tab-btn" onclick="openTab('marketAdvice')">üíπ Market Prices</button>
    </div>
    <div id="tab-crop" class="tab-content active">‚úî Helps farmers choose the right crop based on soil & weather.</div>
    <div id="tab-fertilizer" class="tab-content">
      <h3>Organic Fertilizers</h3>
      <ul><li>Improves soil health</li><li>Environmentally friendly</li><li>Slow nutrient release</li></ul>
      <h3>Chemical Fertilizers</h3>
      <ul><li>Quick nutrient release</li><li>Precise nutrient control</li><li>Can degrade soil with overuse</li></ul>
    </div>
    <div id="tab-pest" class="tab-content">‚úî Provides pest control tips and eco-friendly solutions.</div>
    <div id="tab-marketAdvice" class="tab-content">‚úî Updates market prices and connects with buyers.</div>
    <button class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
  </section>

  <!-- MARKET -->
  <section id="market">
    <h2>üíπ Market Prices</h2>
    <div class="card"><table id="marketTable"><tr><th>Crop</th><th>Price/kg (‚Çπ)</th></tr></table></div>
    <button class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
  </section>

  <!-- WEATHER -->
  <section id="weather">
    <h2>‚òÅ Weather Forecast</h2>
    <div id="weatherCards"></div>
    <button class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
  </section>

  <!-- SOIL -->
  <section id="soil">
    <h2>üå± Soil Health Tips</h2>
    <div id="soilCards"></div>
    <button class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
  </section>

  <!-- ROADMAP -->
  <section id="roadmap">
    <h2>üöÄ Feature Roadmap</h2>
    <ul id="roadmapList"></ul>
    <button class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
  </section>

</main>

<footer>
Prototype ‚Äî Built for Smart India Hackathon.<br/>Connect sensors & APIs for production.
</footer>

<button id="darkToggle">üåì</button>
<button id="voiceButtonInline">üé§</button>

<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
// ===== PARTICLES =====
particlesJS('particles',{
  particles:{number:{value:80},color:{value:"#ffffff"},shape:{type:"circle"},opacity:{value:0.3},size:{value:3},
  line_linked:{enable:true,distance:150,color:"#ffffff",opacity:0.2,width:1},move:{enable:true,speed:1.5}},
  interactivity:{detect_on:"canvas",events:{onhover:{enable:true,mode:"grab"}},modes:{grab:{distance:140,line_linked:{opacity:0.5}}}}
});

// ===== STAGGERED BUTTON ANIMATION =====
window.addEventListener('load',()=>{
  document.querySelectorAll('.btn-line button').forEach((b,i)=>setTimeout(()=>b.classList.add('show'),i*150));
});

// ===== SPLASH HIDE =====
setTimeout(()=>document.getElementById('splash').style.display='none',1500);

// ===== LANGUAGE MODAL =====
function setLanguageModal(){document.getElementById('langModal').style.display='none';showPage('home');}

// ===== PAGES =====
let pages=["home","input","advisories","roadmap","solution","market","weather","soil"];
function showPage(id){pages.forEach(p=>document.getElementById(p).classList.remove('active'));document.getElementById(id).classList.add('active');}

// ===== TABS =====
function openTab(tab){
  document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
  document.getElementById('tab-'+tab).classList.add('active');
  document.querySelectorAll('.tab-btn').forEach(b=>{if(b.textContent.toLowerCase().includes(tab))b.classList.add('active');});
}

// ===== DARK MODE =====
document.getElementById('darkToggle').addEventListener('click',()=>document.body.classList.toggle('dark'));

// ===== VOICE INPUT =====
let activeInput=null;
document.querySelectorAll("input[type=text], input[type=tel]").forEach(inp=>inp.addEventListener("focus",()=>activeInput=inp));
document.getElementById('voiceButtonInline').addEventListener('click',function(){
  if(!activeInput){alert('Tap on a field');return;}
  const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;
  if(!SpeechRecognition){alert("Voice input not supported");return;}
  let recognition=new SpeechRecognition();recognition.lang='en-US';
  recognition.interimResults=false;recognition.maxAlternatives=1;
  this.classList.add('listening');recognition.start();
  recognition.onresult=e=>{activeInput.value=e.results[0][0].transcript;this.classList.remove('listening');};
  recognition.onerror=e=>this.classList.remove('listening');
});

// ===== ADVISORY SUBMIT =====
document.getElementById('farmerForm').addEventListener('submit',e=>{
  e.preventDefault();
  const f=e.target,name=f.name.value,crop=f.crop.value,soil=f.soil.value,area=f.area.value;
  const advisory=document.createElement('div');advisory.className='card';
  advisory.innerHTML=`üë®‚Äçüåæ ${name} | üåæ ${crop}, üå± ${soil}, üèû ${area} acres<br>
  üß™ Fertilizer: Organic recommended; Chemical as needed<br>
  üíß Irrigation: Water as needed<br>üêõ Pest: Monitor & control<br>üí° Advisory: Follow soil & crop recommendations.`;
  const list=document.getElementById('advisoryList');document.getElementById('noAdvisory')?.remove();list.prepend(advisory);showPage('advisories');f.reset();
});

// ===== PLACEHOLDER FOR LIVE API FETCH =====
async function fetchMarketData(){console.log("Fetch market API here");}
async function fetchWeatherData(){console.log("Fetch weather API here");}
setInterval(()=>{fetchMarketData();fetchWeatherData();},900000);

</script>
</body>
</html>
