<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Smart Crop Advisory App</title>
<style>
/* General */
body { font-family:"Segoe UI", Arial, sans-serif; margin:0; background:#f0fdf4; color:#222; transition:0.3s; }
body.dark { background:#121212; color:#eee; }
header, footer { display:flex; align-items:center; justify-content:center; padding:1rem; background:#16a34a; color:white; position:relative; border-bottom-left-radius:12px; border-bottom-right-radius:12px; }
header img { width:40px; margin-right:10px; }
header h1 { margin:0; font-size:1.3rem; }
#langCorner { position:absolute; left:10px; top:10px; font-size:0.7rem; background:#fff; color:#16a34a; border-radius:8px; padding:3px 6px; cursor:pointer; }
body.dark #langCorner { background:#333; color:#a5f3fc; }

/* Main container */
main { max-width:480px; margin:auto; padding:1rem; }

/* Sections */
section { background:white; border-radius:20px; padding:1.5rem; box-shadow:0 6px 15px rgba(0,0,0,0.08); display:none; animation:fade 0.3s ease-in-out; margin-bottom:1rem; }
body.dark section { background:#1e1e1e; color:#eee; box-shadow:none; }
h2 { font-size:1.3rem; margin-bottom:1rem; color:#16a34a; text-align:center; }
body.dark h2 { color:#a5f3fc; }

/* Inputs */
form input, form select { width:100%; padding:12px; margin:6px 0; border:1px solid #ccc; border-radius:12px; font-size:1rem; box-sizing:border-box; }
body.dark form input, body.dark form select { background:#333; color:#eee; border:1px solid #555; }

/* Buttons */
button { border:none; border-radius:12px; cursor:pointer; font-size:1rem; transition:0.2s; flex:1; padding:12px; }
.btn-primary { background:linear-gradient(135deg,#16a34a,#22c55e); color:white; box-shadow:0 4px 8px rgba(0,0,0,0.2); }
.btn-primary:hover { background:linear-gradient(135deg,#15803d,#16a34a); }
.btn-secondary { background:#f3f4f6; color:#111; margin-left:6px; box-shadow:0 2px 5px rgba(0,0,0,0.15); }
body.dark .btn-secondary { background:#333; color:#eee; }
.btn-line { display:flex; flex-wrap:wrap; gap:6px; margin-top:12px; justify-content:space-between; }

/* Advisory */
.advisory { border-radius:16px; padding:12px; margin-top:12px; background:#f9fafb; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
body.dark .advisory { background:#2a2a2a; border:1px solid #555; }
.advisory h3 { margin:0 0 8px 0; color:#16a34a; font-size:1.05rem; }
body.dark .advisory h3 { color:#a5f3fc; }
table { width:100%; border-collapse:collapse; margin-top:10px; font-size:0.9rem; }
th, td { border:1px solid #999; padding:6px; text-align:left; border-radius:6px; }
body.dark th, body.dark td { border:1px solid #666; }

/* Splash */
#splash { position:fixed; top:0; left:0; right:0; bottom:0; background:#16a34a; color:white; display:flex; flex-direction:column; align-items:center; justify-content:center; font-size:1.3rem; z-index:9999; animation:fadeIn 1s; }
#splash img { width:70px; margin-bottom:12px; }

/* Floating buttons */
#darkToggle, #voiceButtonInline { position:fixed; border-radius:50%; padding:12px; font-size:1.2rem; box-shadow:0 4px 10px rgba(0,0,0,0.25); z-index:999; }
#darkToggle { bottom:20px; right:20px; background:#16a34a; color:white; }
#voiceButtonInline { bottom:20px; left:20px; background:#ef4444; color:white; }
#voiceButtonInline.listening { background:#facc15; color:#111; }

/* Animations */
@keyframes fade { from {opacity:0;} to {opacity:1;} }
@keyframes fadeIn { from {opacity:0;} to {opacity:1;} }

/* Mobile adjustments */
@media(max-width:480px){
  header h1{ font-size:1.1rem; }
  button{ font-size:0.95rem; padding:10px; }
}
</style>
</head>
<body>

<!-- Splash -->
<div id="splash">
<img src="https://via.placeholder.com/70" alt="Logo" />
<div>Smart Crop Advisory</div>
<small>Loading...</small>
</div>

<!-- Header -->
<header>
<img src="https://via.placeholder.com/40" alt="Logo" />
<h1>Smart Crop Advisory</h1>
<div id="langCorner">üåê</div>
</header>

<main>

<!-- Language -->
<section id="language">
<h2>Select Language üåê</h2>
<select id="langSelect">
<option value="en">English</option>
<option value="hi">Hindi</option>
</select>
<br><br>
<button class="btn-primary" onclick="setLanguage()">‚úÖ Confirm Language</button>
</section>

<!-- Home -->
<section id="home">
<h2 id="homeTitle">Welcome üëã</h2>
<p id="homeText" style="text-align:center;">Select an option below:</p>
<div class="btn-line">
<button class="btn-primary" onclick="showPage('input')" id="btnInput">üë®‚Äçüåæ Farmer Input</button>
<button class="btn-primary" onclick="showPage('advisories')" id="btnAdvisory">üìã Advisories</button>
<button class="btn-primary" onclick="showPage('roadmap')" id="btnRoadmap">üöÄ Roadmap</button>
</div>
</section>

<!-- Farmer Input -->
<section id="input">
<h2 id="inputTitle">üë®‚Äçüåæ Farmer Input</h2>
<form id="farmerForm">
<label id="labelName">Name</label>
<input type="text" name="name" placeholder="Farmer name" />

<label id="labelPhone">Phone (SMS/IVR)</label>
<input type="tel" name="phone" placeholder="91XXXXXXXXXX" />

<label id="labelDistrict">District</label>
<input type="text" name="district" placeholder="District" />

<label id="labelArea">Area (acres)</label>
<input type="number" name="area" step="0.1" value="1" />

<label id="labelSoil">Soil Type</label>
<select name="soil" id="soilSelect"></select>

<label id="labelCrop">Crop</label>
<input type="text" name="crop" id="cropInput" value="Wheat" />

<div class="btn-line">
<button type="submit" class="btn-primary" id="btnGetAdvisory">‚ú® Get Advisory</button>
<button type="reset" class="btn-secondary" id="btnReset">Reset</button>
<button type="button" class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
</div>
</form>
</section>

<!-- Advisories -->
<section id="advisories">
<h2 id="advisoryTitle">üìã Advisories</h2>
<div id="advisoryList">No advisories yet ‚Äî fill the form and click "Get Advisory".</div>
<br />
<button class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
</section>

<!-- Roadmap -->
<section id="roadmap">
<h2 id="roadmapTitle">üöÄ Feature Roadmap</h2>
<ul>
<li>App + SMS + IVR + Local language voice messages</li>
<li>IoT sensors for soil moisture / pH</li>
<li>Weather + Soil + Satellite data ‚Üí AI model</li>
<li>Market prices, buyer connect, storage tips</li>
<li>Offline SMS digests for low connectivity</li>
<li>Training & onboarding for farmers</li>
</ul>
<br />
<button class="btn-secondary" onclick="showPage('home')">‚¨Ö Back</button>
</section>

<!-- Footer -->
<footer>
Prototype ‚Äî Built for Smart India Hackathon idea submission.<br/>
For production: connect sensors, weather API & backend AI.
</footer>

<!-- Floating buttons -->
<button id="darkToggle">üåì</button>
<button id="voiceButtonInline">üé§</button>

<script>
// Language & UI
let currentLang="en"; 
let activeInput=null;
const pages=["home","input","advisories","roadmap","language"];
const uiTrans={en:{homeTitle:"Welcome üëã",homeText:"Select an option below:",btnInput:"üë®‚Äçüåæ Farmer Input",btnAdvisory:"üìã Advisories",btnRoadmap:"üöÄ Roadmap",inputTitle:"üë®‚Äçüåæ Farmer Input",labelName:"Name",labelPhone:"Phone (SMS/IVR)",labelDistrict:"District",labelArea:"Area (acres)",labelSoil:"Soil Type",labelCrop:"Crop",btnGetAdvisory:"‚ú® Get Advisory",btnReset:"Reset",thanks:"Thanks for using our website! It will help you a lot.",cropPlaceholder:"Wheat"},hi:{homeTitle:"‡§∏‡•ç‡§µ‡§æ‡§ó‡§§ üëã",homeText:"‡§®‡•Ä‡§ö‡•á ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç:",btnInput:"üë®‚Äçüåæ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§á‡§®‡§™‡•Å‡§ü",btnAdvisory:"üìã ‡§∏‡§≤‡§æ‡§π",btnRoadmap:"üöÄ ‡§∞‡•ã‡§°‡§Æ‡•à‡§™",inputTitle:"üë®‚Äçüåæ ‡§ï‡§ø‡§∏‡§æ‡§® ‡§á‡§®‡§™‡•Å‡§ü",labelName:"‡§®‡§æ‡§Æ",labelPhone:"‡§´‡•ã‡§® (SMS/IVR ‡§ï‡•á ‡§≤‡§ø‡§è)",labelDistrict:"‡§ú‡§ø‡§≤‡§æ",labelArea:"‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤ (‡§è‡§ï‡§°‡§º)",labelSoil:"‡§Æ‡•É‡§¶‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞",labelCrop:"‡§´‡§∏‡§≤",btnGetAdvisory:"‚ú® ‡§∏‡§≤‡§æ‡§π ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç",btnReset:"‡§∞‡•Ä‡§∏‡•á‡§ü",thanks:"‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶‡•§ ‡§Ø‡§π ‡§Ü‡§™‡§ï‡•ã ‡§¨‡§π‡•Å‡§§ ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡•á‡§ó‡§æ‡•§",cropPlaceholder:"‡§ó‡•á‡§π‡•Ç‡§Ç"}};
const soilTrans={ en:["Loamy","Sandy","Clay","Laterite"], hi:["‡§¶‡•ã‡§Æ‡§ü","‡§∞‡•á‡§§‡•Ä‡§≤‡•Ä","‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä","‡§≤‡•à‡§ü‡§∞‡§æ‡§á‡§ü"] };
const advTrans={en:{wheat1:"Apply nitrogen fertilizer", wheat2:"Monitor irrigation regularly", rice1:"Keep fields flooded", rice2:"Check for pests", general:"Follow standard crop practices", soilSandy:"Add compost to sandy soil", largeArea:"Consider hiring extra labor", market:"Check local market prices before selling", generalTitle:"Crop Advisory", wheatTitle:"Wheat Advisory", riceTitle:"Rice Advisory"},hi:{wheat1:"‡§®‡§æ‡§á‡§ü‡•ç‡§∞‡•ã‡§ú‡§® ‡§â‡§∞‡•ç‡§µ‡§∞‡§ï ‡§≤‡§ó‡§æ‡§è‡§Ç", wheat2:"‡§∏‡§ø‡§Ç‡§ö‡§æ‡§à ‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§Æ‡•â‡§®‡§ø‡§ü‡§∞ ‡§ï‡§∞‡•á‡§Ç", rice1:"‡§ñ‡•á‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§™‡§æ‡§®‡•Ä ‡§¨‡§®‡§æ‡§è ‡§∞‡§ñ‡•á‡§Ç", rice2:"‡§ï‡•Ä‡§ü‡•ã‡§Ç ‡§ï‡•Ä ‡§ú‡§æ‡§Å‡§ö ‡§ï‡§∞‡•á‡§Ç", general:"‡§Æ‡§æ‡§®‡§ï ‡§´‡§∏‡§≤ ‡§™‡•ç‡§∞‡§•‡§æ‡§ì‡§Ç ‡§ï‡§æ ‡§™‡§æ‡§≤‡§® ‡§ï‡§∞‡•á‡§Ç", soilSandy:"‡§∞‡•á‡§§‡•Ä‡§≤‡•Ä ‡§Æ‡§ø‡§ü‡•ç‡§ü‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡§Ç‡§™‡•ã‡§∏‡•ç‡§ü ‡§°‡§æ‡§≤‡•á‡§Ç", largeArea:"‡§Ö‡§§‡§ø‡§∞‡§ø‡§ï‡•ç‡§§ ‡§∂‡•ç‡§∞‡§Æ‡§ø‡§ï ‡§∞‡§ñ‡§®‡•á ‡§™‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç", market:"‡§¨‡•á‡§ö‡§®‡•á ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§ï‡•Ä ‡§ï‡•Ä‡§Æ‡§§‡•á‡§Ç ‡§¶‡•á‡§ñ‡•á‡§Ç", generalTitle:"‡§´‡§∏‡§≤ ‡§∏‡§≤‡§æ‡§π", wheatTitle:"‡§ó‡•á‡§π‡•Ç‡§Ç ‡§∏‡§≤‡§æ‡§π", riceTitle:"‡§ö‡§æ‡§µ‡§≤ ‡§∏‡§≤‡§æ‡§π"}};

// Splash hide
window.addEventListener("load",()=>{ setTimeout(()=>{document.getElementById("splash").style.display="none"; showPage("language");},1200); });

// Show page
function showPage(id){ pages.forEach(p=>document.getElementById(p).style.display="none"); document.getElementById(id).style.display="block"; }

// Set language
function setLanguage(){
currentLang=document.getElementById("langSelect").value;
for(const key in uiTrans[currentLang]){ let el=document.getElementById(key); if(el) el.innerText=uiTrans[currentLang][key]; }
document.getElementById("cropInput").placeholder=uiTrans[currentLang].cropPlaceholder;
let soilSelect=document.getElementById("soilSelect"); soilSelect.innerHTML="";
soilTrans[currentLang].forEach(s=>{ let opt=document.createElement("option"); opt.text=s; soilSelect.add(opt); });
showPage("home");
}

// Form advisory
const form=document.getElementById("farmerForm"); 
const list=document.getElementById("advisoryList");
form.addEventListener("submit",e=>{
e.preventDefault();
const data=Object.fromEntries(new FormData(form));
const adv=generateAdvisory(data);
list.innerHTML=adv+`<p style="margin-top:10px;font-style:italic;">${uiTrans[currentLang].thanks}</p>`;
showPage("advisories");
});

// Generate advisory
function generateAdvisory(data){
let tips=[], cropLower=data.crop.toLowerCase();
if(cropLower.includes(currentLang==='hi'?'‡§ó‡•á‡§π‡•Ç‡§Ç':'wheat')) tips.push(advTrans[currentLang].wheat1,advTrans[currentLang].wheat2);
else if(cropLower.includes(currentLang==='hi'?'‡§ö‡§æ‡§µ‡§≤':'rice')) tips.push(advTrans[currentLang].rice1,advTrans[currentLang].rice2);
else tips.push(advTrans[currentLang].general,advTrans[currentLang].general);
if(data.soil.toLowerCase().includes(currentLang==='hi'?'‡§∞‡•á‡§§‡•Ä‡§≤‡•Ä':'sandy')) tips.push(advTrans[currentLang].soilSandy);
if(parseFloat(data.area)>5) tips.push(advTrans[currentLang].largeArea);
tips.push(advTrans[currentLang].market);

const fertilizerTable = `<h4>${currentLang==='hi'?'‡§ñ‡§æ‡§¶ ‡§§‡•Å‡§≤‡§®‡§æ':'Fertilizer Comparison'}</h4>
<table>
<thead><tr><th>${currentLang==='hi'?'‡§™‡•ç‡§∞‡§ï‡§æ‡§∞':'Type'}</th><th>${currentLang==='hi'?'‡§≤‡§æ‡§≠':'Benefits'}</th><th>${currentLang==='hi'?'‡§π‡§æ‡§®‡§ø':'Drawbacks'}</th><th>${currentLang==='hi'?'‡§™‡•ç‡§∞‡§≠‡§æ‡§µ ‡§Ö‡§µ‡§ß‡§ø':'Effect Duration'}</th><th>${currentLang==='hi'?'‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∂ ‡§ï‡•Ä ‡§Æ‡§æ‡§§‡•ç‡§∞‡§æ':'Recommended Quantity'}</th></tr></thead>
<tbody>
<tr><td>${currentLang==='hi'?'‡§∞‡§æ‡§∏‡§æ‡§Ø‡§®‡§ø‡§ï ‡§ñ‡§æ‡§¶':'Chemical Fertilizer'}</td><td>${currentLang==='hi'?'‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§™‡•ã‡§∑‡§ï ‡§Ü‡§™‡•Ç‡§∞‡•ç‡§§‡§ø, ‡§â‡§ö‡•ç‡§ö ‡§â‡§™‡§ú':'Quick nutrient supply, high yield'}</td><td>${currentLang==='hi'?'‡§Æ‡•É‡§¶‡§æ ‡§ó‡§ø‡§∞‡§æ‡§µ‡§ü, ‡§ú‡§≤ ‡§™‡•ç‡§∞‡§¶‡•Ç‡§∑‡§£':'Soil degradation, water pollution'}</td><td>${currentLang==='hi'?'‡§Ö‡§≤‡•ç‡§™‡§ï‡§æ‡§≤‡§ø‡§ï (2-4 ‡§∏‡§™‡•ç‡§§‡§æ‡§π)':'Short-term (2-4 weeks)'}</td><td>${currentLang==='hi'?'50 ‡§ï‡§ø‡§ó‡•ç‡§∞‡§æ ‡§™‡•ç‡§∞‡§§‡§ø ‡§è‡§ï‡§°‡§º':'50 kg per acre'}</td></tr>
<tr><td>${currentLang==='hi'?'‡§ú‡•à‡§µ‡§ø‡§ï ‡§ñ‡§æ‡§¶':'Organic Fertilizer'}</td><td>${currentLang==='hi'?'‡§Æ‡•É‡§¶‡§æ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§∏‡•Å‡§ß‡§æ‡§∞, ‡§ü‡§ø‡§ï‡§æ‡§ä':'Improves soil health, sustainable'}</td><td>${currentLang==='hi'?'‡§ß‡•Ä‡§Æ‡§æ ‡§™‡•ã‡§∑‡§ï ‡§∞‡§ø‡§≤‡•Ä‡§ú, ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§ï‡§Æ ‡§â‡§™‡§ú':'Slower nutrient release, lower immediate yield'}</td><td>${currentLang==='hi'?'‡§¶‡•Ä‡§∞‡•ç‡§ò‡§ï‡§æ‡§≤‡§ø‡§ï (2-3 ‡§Æ‡§π‡•Ä‡§®‡•á)':'Long-term (2-3 months)'}</td><td>${currentLang==='hi'?'2 ‡§ü‡§® ‡§™‡•ç‡§∞‡§§‡§ø ‡§è‡§ï‡§°‡§º':'2 tons per acre'}</td></tr>
</tbody></table>`;

let title=advTrans[currentLang].generalTitle;
if(cropLower.includes(currentLang==='hi'?'‡§ó‡•á‡§π‡•Ç‡§Ç':'wheat')) title=advTrans[currentLang].wheatTitle;
if(cropLower.includes(currentLang==='hi'?'‡§ö‡§æ‡§µ‡§≤':'rice')) title=advTrans[currentLang].riceTitle;

return `<div class='advisory'><h3>${title}</h3><ul>${tips.map(t=>`<li>${t}</li>`).join("")}</ul>${fertilizerTable}</div>`;
}

// Voice input
document.querySelectorAll("input[type=text], input[type=tel]").forEach(inp=>{ inp.addEventListener("focus",()=>activeInput=inp); });
const voiceBtn=document.getElementById("voiceButtonInline");
voiceBtn.addEventListener("click",startVoice);
function startVoice(){
if(!activeInput){ alert(currentLang==='hi'?'‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§™‡§∞ ‡§ü‡•à‡§™ ‡§ï‡§∞‡•á‡§Ç‡•§':'Please tap on a field to enter text via voice'); return; }
const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;
if(!SpeechRecognition){ alert("Voice input not supported!"); return; }
let recognition=new SpeechRecognition();
recognition.lang=currentLang==='hi'?'hi-IN':'en-US';
recognition.interimResults=false; recognition.maxAlternatives=1;
voiceBtn.classList.add("listening");
recognition.start();
recognition.onresult=function(event){ activeInput.value=event.results[0][0].transcript; voiceBtn.classList.remove("listening"); };
recognition.onerror=function(){ voiceBtn.classList.remove("listening"); alert("Voice recognition error"); };
}

// Dark mode toggle
document.getElementById("darkToggle").addEventListener("click",()=>document.body.classList.toggle("dark"));

// Corner language change
document.getElementById("langCorner").addEventListener("click",()=>showPage("language"));

</script>
</body>
</html>
